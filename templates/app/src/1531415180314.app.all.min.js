!function(){angular.module("app",["app.core"])}(),function(){angular.module("app.core",["ngSanitize","ngRoute","ngAnimate","ui.bootstrap"])}(),function(){"use strict";function i(i,a){function o(){amplitude.setUserProperties(e.propriedades()),amplitude.getInstance().logEvent("Visualizada",e.dados())}function t(){return{idBook:i.idBook,idProdutoMvc:i.idProdutoMvc,idProduto:i.idProduto,email:i.email,noticia:a.atual}}function n(){return{idBook:i.idBook,idProdutoMvc:i.idProdutoMvc,nomeMvc:i.propriedadesMvc.Nome,idNoticia:a.atual.Id,titulo:a.atual.Titulo,fonte:a.atual.NomeFonte,idFonte:a.atual.IdFonte,midia:a.atual.NomeMidia,idMidia:a.atual.IdMidia,idIdioma:a.atual.IdIdioma,ativo:a.atual.Ativo,tipo:i.tipo,email:!!i.email,integracao:!!i.integracao,personalizado:!!i.personalizado,idsPersonalizado:i.personalizado,host:window.location.host,url:window.location.href}}var e={init:o,dados:t,propriedades:n};return e}angular.module("app").factory("amplitudeService",i),i.$inject=["config","noticias"]}(),function(){"use strict";function i(a,o,t){function n(){return t.host().indexOf("homologacao")>0||"localhost"==t.host(),"//cloud.boxnet.com.br"}function e(){return"localhost"==t.host()?"http://"+t.host()+":"+t.port()+"/Discovery/public":"//"+t.host()}function r(){return t.host().indexOf("prnewswire")>0?"http://pdf.prnewswire.com.br":t.host().indexOf("homologacao")>0||"localhost"==t.host()?"http://pdf.homologacao.boxnet.com.br":"http://pdf.boxnet.com.br"}function s(){return t.host().indexOf("homologacao")>0||"localhost"==t.host()?"http://mvc.homologacao.boxnet.com.br":"http://mvc.boxnet.com.br"}function c(){return a({method:"GET",url:f.urlApi()+"/api/ProdutoMvc/GetPropriedadesMvc?id="+f.idProdutoMvc,headers:f.authorization}).then(function(i){return i.data})["catch"](function(a){throw i.error(a,"Erro ao carregar idProduto")})}function d(o){return a({method:"GET",url:f.urlApi()+"/api/criptografia/criptografar?texto="+o,headers:f.authorization}).then(function(i){return i.data})["catch"](function(a){throw i.error(a,"Erro ao criptografar")})}function l(o){return a({method:"GET",url:f.urlApi()+"/api/criptografia/descriptografar?texto="+o,headers:f.authorization}).then(function(i){return i.data})["catch"](function(a){throw i.error(a,"Erro ao descriptografar")})}function u(){$.each(a.pendingRequests,function(i,a){a.cancel&&(a.cancel.resolve(a),a.timeout)})}function g(i,a){return i.data?{Message:a,ErrorMessage:i.data.Message,ErrorDetail:i.data.MessageDetail}:{Message:a,Error:i}}function p(){function i(){return{name:a(n)||"Other",version:o(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"}}function a(i){for(var a=0;a<i.length;a++){var o=i[a].string;if(t=i[a].subString,-1!==o.indexOf(i[a].subString))return i[a].identity}}function o(i){var a=i.indexOf(t);if(-1!==a){var o=i.indexOf("rv:");return"Trident"===t&&-1!==o?parseFloat(i.substring(o+3)):parseFloat(i.substring(a+t.length+1))}}var t,n=[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}];return i()}var f={authorization:{Authorization:"Basic YmFyYmFhOmJhcmJhYQ=="},idBook:0,idNoticia:0,data:"",idProdutoMvc:76,personalizado:null,tipo:null,email:null,idBookVersao:null,idsBook:[],propriedadesMvc:null,idProduto:null,clipadora:0,loading:!0,urlApi:n,urlPage:e,urlPdf:r,urlMvc:s,getPropriedadesMvc:c,criptografar:d,descriptografar:l,cancelAllRequests:u,error:g,browser:p,dataNoticia:[],contador:0};return f}angular.module("app").factory("config",i),i.$inject=["$http","$log","$location"]}(),function(){function i(i,a,o){function t(){return{destinatarios:"",assunto:"",mensagem:"",idNoticia:o.idNoticia,idBook:0,idProdutoMvc:o.idProdutoMvc}}function n(){return i({method:"POST",url:o.urlApi()+"/api/Email/EnviarNoticiaTemplateWeb/",data:e.formEncaminhar,headers:o.authorization}).then(function(i){return i.data})["catch"](function(i){throw o.error(i,'Erro no request "postEncaminhar"')})}var e={formEncaminhar:new t,postEncaminhar:n};return e}angular.module("app").factory("encaminhar",i),i.$inject=["$http","$log","config"]}(),function(){"use strict";function i(i,a,o){function t(){var t=a.defer();return i({method:"GET",url:o.urlApi()+"/api/RecorteSvg/ComGrifoNoSql?idNoticia="+o.idNoticia+"&idProduto="+o.idProduto,headers:o.authorization,timeout:t.promise,cancel:t}).then(function(i){return i.data})["catch"](function(i){throw i.status?o.error(i,'Erro  no request "getRecortes"'):'Request "getRecortes" cancelado.'})}function n(){var t=a.defer();return i({method:"GET",url:o.urlApi()+"/api/pagina/PaginasByIdNoticia/"+o.idNoticia,headers:o.authorization,timeout:t.promise,cancel:t}).then(function(i){return i.data})["catch"](function(i){throw i.status?o.error(i,'Erro no request "getPaginas"'):'Request "getPaginas" cancelado.'})}function e(){var t=a.defer();return i({method:"GET",url:o.urlApi()+"/api/pagina/capa/"+o.idNoticia,headers:o.authorization,timeout:t.promise,cancel:t}).then(function(i){return d.getCapaById(i.data).then(function(i){return i})})["catch"](function(i){throw i.status?o.error(i,'Erro no request "getCapa"'):'Request "getCapa" cancelado.'})}function r(t){var n=a.defer();return i({method:"GET",url:o.urlApi()+"/api/pagina/PaginaById/"+t,headers:o.authorization,timeout:n.promise,cancel:n}).then(function(i){return i.data})["catch"](function(i){throw i.status?o.error(i,'Erro no request "getCapaById"'):'Request "getCapaById" cancelado.'})}function s(){var t=a.defer();return i({method:"GET",url:o.urlApi()+"/api/Impressos/GetIdsPaginasByIdNoticia?idNoticia="+o.idNoticia,headers:o.authorization,timeout:t.promise,cancel:t}).then(function(i){return i.data})["catch"](function(i){throw i.status?o.error(i,'Erro no request "carregaPaginaComRecortes"'):'Request "carregaPaginaComRecortes" cancelado.'})}function c(t){t.IdProduto=o.idProduto,t.IdNoticia=o.idNoticia,t.IdsRecortes=t.IdsRecortes.toString().split(",").join(",");var n=a.defer();return i({method:"GET",url:o.urlApi()+"/api/Impressos/GetPaginaComRecortes/?"+$.param(t),headers:o.authorization,timeout:n.promise,cancel:n}).then(function(i){return i.data})["catch"](function(i){throw i.status?o.error(i,'Erro no request "getPaginaComRecortes"'):'Request "getPaginaComRecortes" cancelado.'})}var d={loading:!0,botoes:"Recorte",getRecortes:t,getPaginas:n,getCapa:e,getCapaById:r,getIdsPaginas:s,getPaginaComRecortes:c};return d}angular.module("app").factory("impresso",i),i.$inject=["$http","$q","config"]}(),function(){"use strict";function i(i,a,o){function t(){function i(i){return!r.todas[n+1]&&n<r.todas.length-1?r.getNoticia(o.idsBook[n+1]).then(function(a){return a.indexBook=n+1,r.todas[n+1]=a,r.todas[n-1]||0===n?[i,a]:r.getNoticia(o.idsBook[n-1]).then(function(o){return o.indexBook=n-1,r.todas[n-1]=o,[i,a,o]})}):r.todas[n-1]||0===n?(t.resolve("[nenhuma notícia carregada]"),t.promise):r.getNoticia(o.idsBook[n-1]).then(function(a){return a.indexBook=n-1,r.todas[n-1]=a,[i,"",a]})}var t=a.defer(),n=o.idsBook.indexOf(o.idNoticia);return r.defineBotoesNextPrev(n),-1!=n?r.todas[n]?i(""):r.getNoticia(o.idNoticia).then(function(a){return a.indexBook=n,r.todas[n]=a,i(a)}):r.getNoticia(o.idNoticia).then(function(i){return i.indexBook=n,r.todas.push(i),i})}function n(i){switch(i){case-1:r.btNext=!1,r.btPrev=!1;break;case 0:1===o.idsBook.length?(r.btNext=!1,r.btPrev=!1):(r.btNext=!0,r.btPrev=!1);break;case o.idsBook.length-1:r.btNext=!1,r.btPrev=!0;break;default:r.btNext=!0,r.btPrev=!0}}function e(a){var t=o.integracao?o.urlApi()+"/api/Noticia/GetIntegracao?idNoticia="+a+"&key="+o.integracao:o.urlApi()+"/api/Noticia/Get?idNoticia="+a+"&idProdutoMvc="+o.idProdutoMvc+"&retornarTags="+o.opcoes.ExibirTags;return i({method:"GET",url:t}).then(function(i){return o.dataNoticia.push(i.data.DataHora.substring(0,10)),i.data})["catch"](function(i){throw o.error(i,'Erro no request "getNoticia"')})}var r={atual:{},todas:[],btNext:!1,btPrev:!1,carregaNoticias:t,defineBotoesNextPrev:n,getNoticia:e};return r}angular.module("app").factory("noticias",i),i.$inject=["$http","$q","config"]}(),function(){"use strict";function i(i,a,o,t,n){function e(){return i({method:"GET",url:n.urlApi()+"/api/Book/GetIdsNoticias/"+n.idBook,headers:n.authorization}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getIdsBook"')})}function r(a){var o=a||n.idNoticia;return i({method:"GET",url:n.urlApi()+"/api/grifo/GetPalavras?idProduto="+n.idProduto+"&idNoticia="+o}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getGrifos"')})}function s(a){var o=a||n.idNoticia;return i({method:"GET",url:n.urlApi()+"/api/NoticiaDadosNoSQL/ObterConteudoNoSQL?idNoticia="+o+"&idProdutoMvc="+n.idProdutoMvc}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getConteudoExtra"')})}function c(){return i({method:"GET",url:n.urlApi()+"/api/FonteRestricaoExibicao/CacheFontesRestritas/"}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getFontesRestritas"')})}function d(){var a=o.defer();return i({method:"GET",url:n.urlApi()+"/api/Noticia/GetNoticiasSimilares/"+n.idNoticia,headers:n.authorization,timeout:a.promise,cancel:a}).then(function(i){return i.data})["catch"](function(i){throw i.status?n.error(i,'Erro no request "getNoticiasSimilares"'):'Request "getNoticiasSimilares" cancelado.'})}function l(){return i({method:"GET",url:n.urlApi()+"/api/ProdutoMvc/GetOpcoesVisualizacao?idProdutoMvc="+n.idProdutoMvc}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getDadosCliente"')})}function u(a,o){var t=n.urlApi()+"/api/ProdutoMvcExposicao/GetExposicao?idProdutoMvc="+n.idProdutoMvc+"&idNoticia="+n.idNoticia+"&idMidia="+a;return o&&(t+="&calculaCentimetragemTotal=true"),i({method:"GET",url:t}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getExposicaoMesa"')})}function g(a){return i({method:"GET",url:n.urlApi()+"/api/ProdutoSecaoNoticia/GetExposicoes?idProdutoMvc="+n.idProdutoMvc+"&idNoticia="+n.idNoticia+"&idMidia="+a}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getExposicaoPorCanal"')})}function p(){return i({method:"GET",url:n.urlApi()+"/api/Tiragem/GetByIdNoticia?idNoticia="+n.idNoticia+"&idProdutoMvc="+n.idProdutoMvc}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getTiragem"')})}function f(){return i({method:"GET",url:n.urlApi()+"/api/Valoracao/GetValoracaoNoticiaByCotacao?idMoeda="+n.idMoeda+"&idProdutoMvc="+n.idProdutoMvc+"&idNoticia="+n.idNoticia+"&data="+n.dataNoticia[n.contador]}).then(function(i){return 0===n.contador?n.contador=n.contador+2:n.contador=n.contador+1,i.data})["catch"](function(i){throw n.error(i,'Erro no request "getValoracaoNoticia"')})}function m(){return i({method:"GET",url:n.urlApi()+"/api/Valoracao/GetValoracaoByCotacao?idMoeda="+n.idMoeda+"&idProdutoMvc="+n.idProdutoMvc+"&idNoticia="+n.idNoticia+"&data="+n.dataNoticia[n.contador]}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getValoracaoDolar"')})}function v(){return i({method:"GET",url:n.urlApi()+"/api/Valoracao/Get?idProdutoMvc="+n.idProdutoMvc+"&idNoticia="+n.idNoticia}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getValoracao"')})}function b(a){return i({method:"GET",url:n.urlApi()+"/api/Screenshot/Get?idNoticia="+a+"&reprocessar=false"}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no request "getScreenshot"')})}function h(){return i({method:"GET",url:n.urlApi()+"/api/BookRelatorioAcessoMateria/InserirRelatorioAcessomateriasBook?destinatario="+n.email+"&idNoticia="+n.idNoticia+"&idBookVersao="+n.idBookVersao}).then(function(i){return i.data})["catch"](function(i){throw n.error(i,'Erro no get "registraAcessoNoticia"')})}function y(){if(!n.personalizado)return I.getIdsBook().then(function(i){return n.idNoticia||(n.idNoticia=i[0]),i});switch(n.personalizado){case"similares":return I.getNoticiasSimilares().then(function(i){var o=[];return i.forEach(function(i,a){o.push(i.IdNoticia)}),o.length||a.info("Não existem notícias similares relacionadas a essa notícia."),n.idNoticia=o[0],o});default:var i=o.defer();return n.idNoticia=n.personalizado.split(",")[0],i.resolve(n.personalizado.split(",")),i.promise}}function x(i){var a={};n.opcoes.OpcaoExposicaoMesa&&n.opcoes.OpcaoCentimetragemVisualizacaoBook&&(n.opcoes.centimetragemWeb?a.expoMesa=I.getExposicaoMesa(i,!0):a.expoMesa=I.getExposicaoMesa(i)),n.opcoes.OpcaoExposicaoPorCanal&&n.opcoes.OpcaoCentimetragemVisualizacaoBook&&(a.expoCanal=I.getExposicaoPorCanal(i)),n.opcoes.OpcaoTiragemVisualizacaoBook&&(a.tiragem=I.getTiragem()),n.opcoes.OpcaoValoracaoVisualizacaoBook&&(a.valoracao=I.getValoracao()),n.opcoes.textoPersonalizado;for(var t=n.opcoes.Opcoes,e=0;e<t.length;e++)129===t[e].Id?a.valoracaoDolar=I.getValoracaoDolar():130===t[e].Id&&(a.valoracaoNoticiaDolar=I.getValoracaoNoticia());return o.all(a)}function w(i){function a(){return t("filter")(I.fontesRestritas.fontes,{IdFonte:i},!0)[0]}var n=o.defer(),e=a();return n.resolve(e),e&&N().then(function(i){e.urlRestritaNoticiaAtual=i}),n.resolve(e),n.promise}function N(){return i({method:"GET",url:n.urlApi()+"/api/Url/ObterUrlCriptografada?idProdutoMvc="+n.idProdutoMvc+"&idNoticia="+n.idNoticia}).then(function(i){return n.urlApi()+i.data})["catch"](function(i){throw n.error(i,'Erro no request "getExposicaoMesa"')})}function P(){n.email&&I.registraAcessoNoticia().then(function(){a.info("Acesso Registrado")})}var I={loading:!0,dados:[],fontesRestritas:{},conteudoExtra:[],getIdsBook:e,getGrifos:r,getConteudoExtra:s,getFontesRestritas:c,getNoticiasSimilares:d,getDadosCliente:l,getExposicaoMesa:u,getExposicaoPorCanal:g,getTiragem:p,getValoracao:v,getValoracaoNoticia:f,getValoracaoDolar:m,getScreenshot:b,registraAcessoNoticia:h,carregaIdsVisualizacao:y,carregaDadosVisualizacao:x,verificaFontesRestritas:w,verificaUsuarioEmail:P};return I}angular.module("app").factory("visualizacao",i),i.$inject=["$http","$log","$q","$filter","config"]}(),function(){function i(i,a,o,t,n,e,r,s){function c(){m.validaUrl().then(function(){m.carregaPropriedadesMvc().then(function(){m.carregaDadosVisualizacao().then(function(){m.carregaIdsVisualizacao().then(function(i){m.config.idsBook=i})})})})}function d(){function o(i,a){for(var o=a.split("&"),t=o.length-1;t>=0;t-=1){var n=o[t].split("=")[0];n===i&&o.splice(t,1)}return o.join("&")}var t=i.absUrl().split("?");if(Object.keys(i.search()).length){if(i.search().t)return m.config.token=i.search().t,m.config.descriptografar(i.search().t).then(function(i){localStorage.clear(),localStorage.setItem("query",i),localStorage.setItem("params",'{"'+decodeURI(i.replace(/&/g,'","').replace(/=/g,'":"'))+'"}'),m.setConfig()});var n=i.search().email,e=n?o("email",t[1]):t[1];return m.config.criptografar(e.replace(/&/g,"%26")).then(function(a){i.search({}),i.search({t:a}),n&&i.search({t:a,email:n})})}a.location.href=t[1]?t[0]+"#/?"+t[1]:t[0].replace("index","notfound")}function l(){return m.config.getPropriedadesMvc().then(function(i){return m.config.idProduto=i.IdProduto,m.config.propriedadesMvc=i,i})}function u(){return m.visualizacao.getGrifos().then(function(i){return m.visualizacao.grifos=i,m.visualizacao.getFontesRestritas().then(function(i){return m.visualizacao.fontesRestritas.fontes=i,m.visualizacao.getDadosCliente().then(function(i){m.config.opcoes=m.setOpcoes(i)})})})}function g(){return m.visualizacao.carregaIdsVisualizacao().then(function(i){return i})}function p(a){var t=a;if(t.TipoVisualizacao.Nome=t.TipoVisualizacao.Nome||"Thumbnail",t.TipoVisualizacaoImpressoPadrao.Nome=t.TipoVisualizacaoImpressoPadrao.Nome||"Recorte",t.TipoVisualizacaoWebPadrao.Nome=t.TipoVisualizacaoWebPadrao.Nome||"Texto",t.ExibirDataCadastro=!!o("filter")(t.Opcoes,{Nome:"Exibir Data de Cadastro"}).length,t.InibirAbaTexto=!!o("filter")(t.Opcoes,{Nome:"Não exibir aba de leitura"}).length,t.InibirAbaCapa=!!o("filter")(t.Opcoes,{Nome:"Não exibir aba da capa"}).length,t.InibirAbaPagina=!!o("filter")(t.Opcoes,{Nome:"Não exibir aba da página"}).length,t.InibirAbaRecorte=!!o("filter")(t.Opcoes,{Nome:"Não exibir aba da matéria"}).length,t.InibirAbaRecorte=!!o("filter")(t.Opcoes,{Nome:"Não exibir aba da matéria"}).length,t.InibirTranscricao=!!o("filter")(t.Opcoes,{Nome:"Não exibir transcrição para Rádio/TV"}).length,t.ExibirTags=!!o("filter")(t.Opcoes,{Nome:"Exibir Tags das Notícias"}).length,t.Destinatarios=!!o("filter")(t.Opcoes,{Nome:"Email com destinatarios"}).length,t.ConteudoExtra=!!o("filter")(t.Opcoes,{Nome:""}).length,t.prnewswire=i.host().indexOf("prnewswire")>=0,t.valoracaoDolar=!!o("filter")(t.Opcoes,{Nome:"Exibir Valoração Canal em Dólar"}).length,t.valoracaoNoticiaDolar=!!o("filter")(t.Opcoes,{Nome:"Exibir Valoração Notícia em Dólar"}).length,t.centimetragemWeb=!!o("filter")(t.Opcoes,{Nome:"Exibir Centimetragem Web"}).length,t.valoracaoDolar||t.valoracaoNoticiaDolar){var n=o("filter")(t.Opcoes,{idMoeda:$});e.idMoeda=JSON.parse(n[0].Configuracao).IdMoeda}if(t.textoPersonalizado=!!o("filter")(t.Opcoes,{Nome:"Exibir Visualização Texto Personalizado"}).length,t.textoPersonalizado)for(var r=0;r<t.Opcoes.length;r++)132===t.Opcoes[r].Id&&(t.textoPersonalizadoConfig=JSON.parse(t.Opcoes[r].Configuracao));return t}function f(){m.config.idBook=parseInt(JSON.parse(localStorage.getItem("params")).idBook)||0,m.config.idNoticia=parseInt(JSON.parse(localStorage.getItem("params")).idNoticia),m.config.idProdutoMvc=parseInt(JSON.parse(localStorage.getItem("params")).idProdutoMvc)||76,m.config.personalizado=JSON.parse(localStorage.getItem("params")).personalizado,m.config.tipo=JSON.parse(localStorage.getItem("params")).tipo||"normal",m.config.email="["===i.search().email?0:i.search().email,m.config.idBookVersao=parseInt(JSON.parse(localStorage.getItem("params")).idBookVersao)||0,m.config.integracao="integracao"===m.config.tipo?JSON.parse(localStorage.getItem("params")).key:0}var m=this;m.iniciar=c,m.title="",m.config=e,m.noticias=r,m.visualizacao=s,m.validaUrl=d,m.carregaPropriedadesMvc=l,m.carregaDadosVisualizacao=u,m.carregaIdsVisualizacao=g,m.setOpcoes=p,m.setConfig=f,c(),t.$on("$locationChangeSuccess",function(i,o,t){o!==t&&a.location.reload()})}angular.module("app").controller("PageCtrl",i),i.$inject=["$location","$window","$filter","$rootScope","$q","config","noticias","visualizacao"]}(),function(){function i(i,a,o,t,n,e){function r(){u.carregaNoticiasIntegra()}function s(){function i(){u.carregaNoticia(o).then(function(){u.visualizacao.verificaFontesRestritas(u.noticias.todas[o].IdFonte).then(function(i){u.noticias.todas[o].fonteRestrita=i,u.visualizacao.getGrifos(u.noticias.todas[o].Id).then(function(i){u.noticias.todas[o].grifos=i,u.config.loading=!1,2==u.noticias.todas[o].IdMidia||24==u.noticias.todas[o].IdMidia?(u.config.idNoticia=u.noticias.todas[o].Id,u.noticias.todas[o].recortes=[],u.carregaImpressosIntegra(u.noticias.todas[o]).then(function(){a()})):a()})})})}function a(){o!=u.config.idsBook.length-1?(o++,i()):u.visualizacao.loading=!1}var o=0;i()}function c(i){return u.noticias.getNoticia(u.config.idsBook[i]).then(function(a){return u.noticias.todas[i]=a,a})}function d(i){return u.impresso.getIdsPaginas().then(function(o){var t=[];return angular.forEach(o.Paginas,function(i,a){t.push(u.impresso.getPaginaComRecortes(i))}),a.all(t).then(function(a){return angular.forEach(a,function(a,o){angular.forEach(a.Recortes,function(o,t){o.index=t,o.pagWidth=a.Largura,o.pagHeight=a.Altura,i.recortes.push(o)})}),!0})})}function l(i){u.visualizacao.loadingWeb=!0,u.visualizacao.getScreenshot(u.noticias.todas[i].Id).then(function(a){u.noticias.todas[i].screenshot=a,u.visualizacao.loadingWeb=!1})}var u=this;u.iniciar=r,u.title="",u.config=o,u.visualizacao=n,u.noticias=t,u.impresso=e,u.carregaNoticiasIntegra=s,u.carregaNoticia=c,u.carregaImpressosIntegra=d,u.carregaScreenshot=l,i.$watch(function(){return u.config.idsBook},function(i,a){i!=a&&u.iniciar()})}angular.module("app").controller("BodyIntegraCtrl",i),i.$inject=["$scope","$q","config","noticias","visualizacao","impresso"]}(),function(){function i(i,a,o,t,n){function e(){s.config.loading=!0,s.carregaNoticias().then(function(){s.config.loading=!1})}function r(){return s.noticias.carregaNoticias().then(function(a){return s.noticias.atual=i("filter")(s.noticias.todas,{Id:parseInt(s.config.idNoticia)},!0)[0],a})}var s=this;s.iniciar=e,s.title="",s.config=a,s.visualizacao=o,s.noticias=t,s.impresso=n,s.carregaNoticias=r,e()}angular.module("app").controller("BodyIntegracaoCtrl",i),i.$inject=["$filter","config","visualizacao","noticias","impresso"]}(),function(){function i(i,a,o,t,n,e,r,s){function c(){N.config.loading=!0,N.noticias.botoesImpresso=N.config.opcoes.TipoVisualizacaoImpressoPadrao.Nome,N.noticias.botoesWeb=N.config.opcoes.TipoVisualizacaoWebPadrao.Nome,N.carregaNoticias().then(function(){return N.amplitude.init(),N.visualizacao.getConteudoExtra().then(function(i){return N.noticias.atual.conteudoExtra=i,N.carregaFontesRestritas().then(function(){N.carregaNoticiasSimilares(),N.carregaDadosVisualizacao(),N.carregaImpressos(),"Screenshot"===N.config.opcoes.TipoVisualizacaoWebPadrao.Nome&&N.carregaScreenshot(),N.config.loading=!1,N.visualizacao.verificaUsuarioEmail()})})})}function d(){return N.noticias.carregaNoticias().then(function(i){return N.noticias.atual=a("filter")(N.noticias.todas,{Id:parseInt(N.config.idNoticia)},!0)[0],i})}function l(){return N.visualizacao.verificaFontesRestritas(N.noticias.atual.IdFonte).then(function(i){return N.noticias.atual.fonteRestrita=i,i})}function u(){return N.visualizacao.getNoticiasSimilares().then(function(i){return N.noticias.atual.similares=i,i})}function g(){return N.visualizacao.carregaDadosVisualizacao(N.noticias.atual.IdMidia).then(function(i){var a=jQuery.isEmptyObject(i)?null:i;return N.noticias.atual.dados=a,a})}function p(){return 2===N.noticias.atual.IdMidia||24===N.noticias.atual.IdMidia?N.carregaPaginasRecortes().then(function(i){return N.listRecortes(),N.impresso.loading=!1,N.carregaCapa(),i}):void 0}function f(){return N.impresso.loading=!0,N.noticias.atual.impressos={},N.noticias.atual.impressos.paginas=[],N.noticias.atual.impressos.recortes=[],N.impresso.getIdsPaginas().then(function(i){N.noticias.atual.impressos.dados=i;var a=[];return angular.forEach(i.Paginas,function(i,o){var t=N.impresso.getPaginaComRecortes(i).then(function(i){i.index=o,N.noticias.atual.impressos.paginas[o]=i,angular.forEach(i.Recortes,function(i,a){i.index=a})});a.push(t)}),o.all(a).then(function(){return N.noticias.atual.impressos.paginas})})}function m(){return N.impresso.getCapa().then(function(i){return N.noticias.atual.impressos.capa=[i]})}function v(i){N.clearNoticia(),N.config.idNoticia=N.config.idsBook[i],N.iniciar()}function b(){window.scroll(0,0),N.config.cancelAllRequests()}function h(){N.visualizacao.loadingWeb=!0,N.visualizacao.getScreenshot(N.noticias.atual.Id).then(function(i){N.noticias.atual.screenshot=i,N.visualizacao.loadingWeb=!1})}function y(){angular.forEach(N.noticias.atual.impressos.paginas,function(i,a){angular.forEach(i.Recortes,function(i,a){N.noticias.atual.impressos.recortes.push(i)})})}function x(i,a){var o,t=a,n=document.getElementById("canvas"),e=n.getContext("2d"),r=new Image;r.crossOrigin="Anonymous";var s=new Image;s.crossOrigin="Anonymous",r.onload=function(){n.width=t.Largura,n.height=t.Altura,s.src=t.UrlGrifo},s.onload=function(){try{e.globalAlpha=1,e.drawImage(r,0,0),e.globalAlpha=1,e.drawImage(s,0,0),o=n.toDataURL("image/png")}catch(i){console.info("Imagem grifada não foi gerada.")}},r.src=t.Url}function w(i,a){var o=i.replace("%22{0}%22",encodeURI(a));N.urlRestritaImpresso=o}var N=this;N.iniciar=c,N.title="",N.config=t,N.visualizacao=n,N.noticias=e,N.impresso=r,N.carregaNoticias=d,N.carregaFontesRestritas=l,N.carregaNoticiasSimilares=u,N.carregaDadosVisualizacao=g,N.carregaImpressos=p,N.carregaPaginasRecortes=f,N.carregaCapa=m,N.noticiaNextPrev=v,N.clearNoticia=b,N.carregaScreenshot=h,N.listRecortes=y,N.makeImage=x,N.getUrlRestritaImpresso=w,N.amplitude=s,i.$watch(function(){return N.config.idsBook},function(i,a){i!=a&&(angular.forEach(N.config.idsBook,function(i,a){N.noticias.todas.push(null)}),N.iniciar())})}angular.module("app").controller("BodyPadraoCtrl",i),i.$inject=["$scope","$filter","$q","config","visualizacao","noticias","impresso","amplitudeService"]}(),function(){function i(i,a,o,t,n){function e(){}function r(){i.open({animation:!0,size:"sm",template:'<div class=modal-header>Download <button ng-click=download.cancelar() type=button class=close data-dismiss=modal aria-label=Close><i class="fa fa-close"></i></button></div><div class=modal-body><div ng-if="download.noticias.atual.IdMidia === 1 || download.noticias.atual.IdMidia === 2 || download.noticias.atual.IdMidia === 24"><a ng-href="{{download.config.urlPdf()}}/Geral/Conteudo?idNoticia={{download.noticias.atual.Id}}&idProdutoMvc={{download.config.idProdutoMvc}}" class="btn btn-primary btn-block">PDF do Conteúdo</a> <a ng-href="{{download.config.urlPdf()}}/Geral/ConteudoSinopse?idNoticia={{download.noticias.atual.Id}}&idProdutoMvc={{download.config.idProdutoMvc}}" class="btn btn-primary btn-block">PDF da Sinopse</a> <a ng-if="download.noticias.atual.IdMidia === 2 || download.noticias.atual.IdMidia === 24" ng-href="{{download.config.urlPdf()}}/Geral/Imagem?idNoticia={{download.noticias.atual.Id}}&idProdutoMvc={{download.config.idProdutoMvc}}&paginaCompleta=false" class="btn btn-primary btn-block">PDF da(s) imagem(ns)</a> <a ng-if="download.noticias.atual.IdMidia === 2 || download.noticias.atual.IdMidia === 24" ng-href="{{download.config.urlPdf()}}/Geral/Imagem?idNoticia={{download.noticias.atual.Id}}&idProdutoMvc={{download.config.idProdutoMvc}}&paginaCompleta=true" class="btn btn-primary btn-block">PDF da(s) página(s)</a></div><div ng-if="download.noticias.atual.IdMidia === 3 || download.noticias.atual.IdMidia === 4"><a ng-href="{{download.config.urlPdf()}}/Geral/Conteudo?idNoticia={{download.noticias.atual.Id}}&idProdutoMvc={{download.config.idProdutoMvc}}" class="btn btn-primary btn-block">PDF da Transcrição</a> <a ng-repeat="anexo in download.noticias.atual.Anexos" ng-href="{{anexo.Url | trustUrlApi}}" download target=_blank class="btn btn-primary btn-block"><span ng-if="download.noticias.atual.IdMidia === 3">Download do áudio</span> <span ng-if="download.noticias.atual.IdMidia === 4">Download do vídeo</span></a></div></div>',controller:"DownloadCtrl as download"})}function s(){i.open({animation:!0,template:'<div class=modal-header>Encaminhar <button type=button class=close ng-click=encaminhar.cancelar()><i class="fa fa-close"></i></button></div><div class=modal-body><form name=encaminharForm novalidate><div class=form-group><label for=enviar-input-email>Destinatários</label> <input ng-model=encaminhar.encaminhar.formEncaminhar.destinatarios ng-pattern=multiEmails type=text class=form-control id=enviar-input-email placeholder="Ex: joao@email.com.br; maria@email.com.br" required></div><div class=form-group><label for=enviar-input-assunto>Assunto</label> <input ng-model=encaminhar.encaminhar.formEncaminhar.assunto type=text class=form-control id=enviar-input-assunto placeholder="Assunto do envio"></div><div class=form-group><label for=enviar-textarea-mensagem>Mensagem</label> <textarea ng-model=encaminhar.encaminhar.formEncaminhar.mensagem class=form-control id=enviar-textarea-mensagem placeholder="Mensagem do envio"></textarea></div></form></div><div class=modal-footer><button type=button class="btn btn-default" ng-click=encaminhar.encaminharNoticia() ng-class="{disabled: encaminhar.encaminhando}"><span ng-show=encaminhar.encaminhando>Encaminhando...</span> <span ng-hide=encaminhar.encaminhando>Encaminhar</span></button></div>',controller:"EncaminharCtrl as encaminhar"})}function c(){i.open({animation:!0,template:'<div class=modal-header>Notícias Similares <button type=button class=close ng-click=similares.cancelar()><i class="fa fa-close"></i></button></div><div class=modal-body><div class=similares ng-repeat="similar in similares.noticias.atual.similares"><a ng-href="?idBook=0&idNoticia={{similar.IdNoticia}}&idProdutoMvc={{similares.config.idProdutoMvc}}" target=_blank><strong>{{similar.Midia.Nome}} - <small>{{similar.Fonte.Nome | uppercase}}</small></strong><br><span class=text-muted>{{similar.Titulo}}</span></a></div></div>',controller:"SimilaresCtrl as similares"})}var d=this;d.iniciar=e,d.title="",d.config=a,d.visualizacao=o,d.noticias=t,d.impresso=n,d.modalEncaminhar=s,d.modalDownload=r,d.modalSimilares=c,e()}angular.module("app").controller("NavbarCtrl",i),i.$inject=["$modal","config","visualizacao","noticias","impresso"]}(),function(){function i(i,a,o){function t(){}function n(){i.dismiss("cancel")}var e=this;e.iniciar=t,e.title="",e.config=a,e.noticias=o,e.cancelar=n,t()}angular.module("app").controller("DownloadCtrl",i),i.$inject=["$modalInstance","config","noticias"]}(),function(){function i(i,a,o,t){function n(){i.multiEmails=/^[\W]*([\w+\-.%]+@[\w\-.]+\.[A-Za-z]{2,4}[\W]*;{1}[\W]*)*([\w+\-.%]+@[\w\-.]+\.[A-Za-z]{2,4})[\W]*$/}function e(){i.encaminharForm.$valid&&(s.encaminhando=!0,s.encaminhar.postEncaminhar(s.encaminhar.formEncaminhar).then(function(){s.cancelar(),s.encaminhando=!1,a.info("Notícias encaminhada com sucesso")}))}function r(){o.dismiss("cancel")}var s=this;s.iniciar=n,s.title="",s.encaminhar=t,s.encaminharNoticia=e,s.cancelar=r,n()}angular.module("app").controller("EncaminharCtrl",i),i.$inject=["$scope","$log","$modalInstance","encaminhar"]}(),function(){function i(i,a,o){function t(){}function n(){i.dismiss("cancel")}var e=this;e.iniciar=t,e.title="",e.config=a,e.noticias=o,e.cancelar=n,t()}angular.module("app").controller("SimilaresCtrl",i),i.$inject=["$modalInstance","config","noticias"]}(),function(){function i(i){return{restrict:"A",link:function(a,o,t){t.$observe("disableAnimation",function(a){i.enabled(!a,o)})}}}angular.module("app").directive("disableAnimation",i),i.$inject=["$animate"]}(),function(){"use strict";function i(i,a){return{restrict:"E",link:function(o,t,n){o.$watch(function(){return a.tipo},function(a,n){if(a!=n){switch(a){case"simples":case"integra":t.html("<vis-body-integra></vis-body-integra>");break;case"integracao":t.html("<vis-body-integracao></vis-body-integracao>");break;default:t.html("<vis-body-padrao></vis-body-padrao>")}i(t.contents())(o)}})}}}angular.module("app").directive("visBody",i),i.$inject=["$compile","config"]}(),function(){function i(){return{restrict:"E",template:'<div class=container-visualizacao style="margin: 0;"><div class=container><div class=row><div class=noticias-canal><div class=clearfix ng-repeat="noticia in body.noticias.todas" style="margin-bottom: 40px; page-break-after: always"><div class=noticia-container style="border-top: 2px solid #333;"><div style="margin-top: -2px; margin-bottom: 20px;"><ul class=list-inline><li tooltip=Download tooltip-popup-delay=1000 style="padding: 0;"><a ng-href="{{body.config.urlPdf()}}/Geral/Imagem?idNoticia={{noticia.Id}}&idProdutoMvc={{body.config.idProdutoMvc}}&paginaCompleta=false" class=btn ng-if="noticia.NomeMidia.toLowerCase() == \'impresso\'"><i class="fa fa-download"></i> <span>download</span></a> <a ng-href="{{body.config.urlPdf()}}/Geral/Conteudo?idNoticia={{noticia.Id}}&idProdutoMvc={{body.config.idProdutoMvc}}" class=btn ng-if="noticia.NomeMidia.toLowerCase() != \'impresso\'"><i class="fa fa-download"></i> <span>download</span></a></li><li ng-if=noticia.Url tooltip="Link Original" tooltip-popup-delay=1000 style="padding: 0;"><a class=btn ng-href={{noticia.Url}} target=_blank><i class="fa fa-link"></i> Link Original</a></li></ul></div><div class=noticia-dados><a class=noticia-titulo><h2>{{noticia.Titulo}}</h2></a><div class=noticia-info><div class=noticia-info-padrao><span><strong>{{noticia.NomeFonte}}</strong></span> <span ng-if=noticia.NomeProgramaSecao>| {{noticia.NomeProgramaSecao}}</span> <span>| Veiculada em {{noticia.DataHora | date: "dd/MM/yyyy \'às\' HH\'h\'mm"}}</span> <span ng-if=body.config.opcoes.ExibirDataCadastro>| Cadastrada em {{noticia.DataHoraCaptura | date: "dd/MM/yyyy \'às\' HH\'h\'mm"}}</span> <span ng-if=noticia.NumerosPaginas>| Página(s): {{noticia.NumerosPaginas}}</span></div><div ng-if=noticia.Tags class=noticia-info-padrao><strong>Tags:</strong> <span class=noticia-tags ng-bind-html=noticia.Tags></span></div><ul class="noticia-info-padrao list-unstyled" ng-if=noticia.Propriedades.length><li ng-repeat="prop in (noticia.Propriedades)"><strong>{{prop.NomePropriedade}}:&nbsp;</strong><span ng-bind-html="prop.Valor | linky"></span></li></ul></div></div><div ng-if=!noticia.fonteRestrita style="padding: 20px 0;"><div class="noticia-midia clearfix" ng-class=noticia.NomeMidia.toLowerCase()><div ng-if="noticia.IdMidia == 1 || noticia.IdMidia > 4"><div class=clearfix><div class="col-md-8 col-md-offset-2"><div class=noticia-descricao ng-bind-html="noticia.Conteudo | highlight:noticia.grifos"></div></div></div><div ng-if="noticia.IdMidia == 1" class="noticia-screenshot text-center clearfix relative"><div loading=body.visualizacao.loadingWeb style="height: 100px; opacity: .6;"></div><button ng-if=!noticia.screenshot ng-click=body.carregaScreenshot($index) class="btn btn-default ng-scope">Ver Screenshot</button><div ng-if=noticia.screenshot><h4>Screenshot:</h4><a ng-href={{noticia.screenshot}} target=_blank><img ng-src={{noticia.screenshot}} style="max-width: 100%"></a></div></div></div><div ng-if="noticia.IdMidia == 2 || noticia.IdMidia == 24"><div class=noticia-impressos><div ng-repeat="recorte in noticia.recortes" class=text-center><div ng-if=recorte.TemGrifo ng-style="{ \'background\': \'url({{recorte | getImagem}}) no-repeat center top\', \'background-size\': \'contain\', \'margin\': \'auto\' }"><img ng-src="{{recorte.UrlGrifo | trustUrl}}" style="max-width: 1175px;" width="{{ recorte.Largura / (recorte.pagWidth / (recorte.pagWidth != recorte.Largura ? 1175 : recorte.Largura)) }}"></div><img ng-if=!recorte.TemGrifo ng-src="{{recorte | getImagem}}" style="max-width: 1175px;" width="{{ recorte.Largura / (recorte.pagWidth / (recorte.pagWidth != recorte.Largura ? 1175 : recorte.Largura)) }}"></div></div></div><div ng-if="noticia.IdMidia == 3" class="col-md-6 col-md-offset-3"><audio controls ng-repeat="anexo in noticia.Anexos"><source ng-src="{{anexo.Url | trustUrlApi}}" type=audio/mp3>O seu navegador não suporta o elemento <code>audio</code> do HTML5.</audio></div><div ng-if="noticia.IdMidia == 4" class="col-md-6 col-md-offset-3"><video controls width=320 height=240 style="background: #000;" ng-repeat="anexo in noticia.Anexos"><source ng-src="{{anexo.Url | trustUrlApi}}" type=video/mp4>O seu navegador não suporta o elemento <code>video</code> do HTML5.</video></div></div></div><div ng-if=noticia.fonteRestrita class="col-md-8 col-md-offset-2"><div class=noticia-descricao>{{noticia.Conteudo | limitTo:noticia.fonteRestrita.QuantidadeCaracteresLiberados}}...</div><div class=well style="margin-top: 20px"><span class=noticia-fonte-restrita>{{noticia.fonteRestrita.TextoRestricao}}</span></div><div class=text-center><a class=btn ng-href={{noticia.fonteRestrita.urlRestritaNoticiaAtual}} target=_blank>Acessar site</a></div></div></div></div><div style=position:relative;><div loading=body.visualizacao.loading></div></div></div></div></div></div>',
controller:"BodyIntegraCtrl as body"}}angular.module("app").directive("visBodyIntegra",i)}(),function(){function i(){return{restrict:"E",template:'<div class=container-visualizacao style=margin:0;><div class=container><div class=row><div class="col-md-8 col-md-offset-2 noticias-canal"><div class=noticia-container><div class=noticia-dados style=padding-bottom:40px;><a class=noticia-titulo><h2 ng-bind-html=vm.noticias.atual.Titulo></h2></a><div class=noticia-info><div class=noticia-info-padrao><strong>{{vm.noticias.atual.NomeFonte}}</strong> <span>| {{vm.noticias.atual.DataHora | date: "dd/MM/yyyy \'às\' HH\'h\'mm"}}</span></div></div></div><div class="noticia-midia clearfix" ng-class=vm.noticias.atual.NomeMidia.toLowerCase()><div ng-if="vm.noticias.atual.IdMidia == 1"><div class=bkg-noticia><div class=noticia-texto><blockquote class=noticia-sinopse ng-if=vm.noticias.atual.Sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=vm.noticias.atual.Sinopse></em></span></blockquote><div class=noticia-descricao ng-bind-html=vm.noticias.atual.Conteudo></div></div></div></div><div ng-if="vm.noticias.atual.IdMidia == 2 || noticia.atual.IdMidia == 24"><div class="bkg-noticia noticia-impressos"><div class="text-center noticia-impressos-recortes"><div class=inline-block><div class="noticia-conteudo-imagem relative"><a ng-href={{vm.noticias.atual.CaminhoArquivo}} style="top: 0; bottom: inherit;" class="btn btn-primary btn-sm btn-download-imagem"><i class="fa fa-download"></i></a> <img ng-src={{vm.noticias.atual.CaminhoArquivo}} style="max-width: 100%"></div></div></div></div></div><div ng-if="vm.noticias.atual.IdMidia == 3"><div class=bkg-noticia><div class=noticia-audiovideo><audio controls><source ng-src={{vm.noticias.atual.CaminhoArquivo}} type=audio/mp3>O seu navegador não suporta o elemento <code>audio</code> do HTML5.</audio></div></div></div><div ng-if="vm.noticias.atual.IdMidia == 4"><div class=bkg-noticia><div class=noticia-audiovideo><video controls width=100% height=240><source ng-src={{vm.noticias.atual.CaminhoArquivo}} type=video/mp4>O seu navegador não suporta o elemento <code>video</code> do HTML5.</video></div></div></div></div></div></div></div></div></div>',controller:"BodyIntegracaoCtrl as vm"}}angular.module("app").directive("visBodyIntegracao",i)}(),function(){function i(){return{restrict:"E",template:'<div class=container-visualizacao><div class=container><div class=row><div class="col-md-10 col-md-offset-1 noticias-canal" ng-class="{ \'col-lg-10 col-lg-offset-1\': body.noticias.atual.IdMidia === 2 || body.noticias.atual.IdMidia === 24, \'col-lg-8 col-lg-offset-2\': body.noticias.atual.IdMidia !== 2 && body.noticias.atual.IdMidia !== 24 }"><div class=noticia-container><div class=noticia-dados><a class=noticia-titulo><h2 ng-bind-html="body.noticias.atual.Titulo | highlight:body.visualizacao.grifos"></h2></a><div class=noticia-info><div class=noticia-info-padrao><div><strong>{{body.noticias.atual.NomeFonte}}</strong> <span ng-if=body.noticias.atual.NomeProgramaSecao>| {{body.noticias.atual.NomeProgramaSecao}}</span> <span ng-if=body.noticias.atual.NumerosPaginas>| Página(s): {{body.noticias.atual.NumerosPaginas}}</span></div><span><strong>Data Veiculação:</strong> <span>{{body.noticias.atual.DataHora | date: "dd/MM/yyyy \'às\' HH\'h\'mm"}}</span><br><span ng-if=body.config.opcoes.ExibirDataCadastro><span><strong>Data Cadastro:</strong> {{body.noticias.atual.DataHoraCaptura | date: "dd/MM/yyyy \'às\' HH\'h\'mm"}}</span></span></span></div><div ng-if=body.noticias.atual.Duracao class=noticia-info-padrao><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblDuracao>{{ body.config.opcoes.textoPersonalizadoConfig.lblDuracao }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblDuracao>Duração:</span></strong> <span>{{(body.noticias.atual.Duracao) | toHours}}</span></div><div ng-if=body.noticias.atual.Tags class=noticia-info-padrao><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblTags>{{ body.config.opcoes.textoPersonalizadoConfig.lblTags }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblTags>Tags:</span></strong> <span class=noticia-tags ng-bind-html=body.noticias.atual.Tags></span></div><div ng-if=body.noticias.atual.AudienciaFonte class=noticia-info-padrao><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblPageviewsFonte>{{ body.config.opcoes.textoPersonalizadoConfig.lblPageviewsFonte }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblPageviewsFonte>Pageviews da Fonte:</span></strong> <span class=list-group-item-text>{{body.noticias.atual.AudienciaFonte.PageViews}} <em>(pageviews)</em>, {{body.noticias.atual.AudienciaFonte.UniqueVisitors}} <em>(pageviews únicos)</em></span></div><div ng-if=body.noticias.atual.AudienciaNoticia class=noticia-info-padrao><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblPageviewsNoticia>{{ body.config.opcoes.textoPersonalizadoConfig.lblPageviewsNoticia }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblPageviewsNoticia>Pageviews da Notícia:</span></strong> <span class=list-group-item-text>{{body.noticias.atual.AudienciaNoticia.PageViews}} <em>(pageviews)</em>, {{body.noticias.atual.AudienciaNoticia.UniqueVisitors}} <em>(pageviews únicos)</em></span></div><div ng-if=body.noticias.atual.Propriedades.length class=noticia-info-padrao><ul ng-if=body.maisinfo class=list-unstyled><li ng-repeat="prop in (body.noticias.atual.Propriedades)"><strong>{{prop.NomePropriedade}}:&nbsp;</strong> <span ng-if="prop.TipoPropriedade === \'Checkbox\'">{{prop.Valor !== "False" ? \'Sim\' : \'Não\'}}</span> <span ng-if="prop.TipoPropriedade != \'Checkbox\'" ng-bind-html="prop.Valor | linky"></span></li></ul><span href ng-click="body.maisinfo = !body.maisinfo" style="cursor: pointer; border-bottom: 1px solid"><span ng-if=!body.maisinfo>+</span><span ng-if=body.maisinfo>-</span> informações</span></div><ul ng-if=body.noticias.atual.dados class="noticia-info-extras list-unstyled"><li ng-if=body.noticias.atual.dados.expoMesa><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblExposicao>{{ body.config.opcoes.textoPersonalizadoConfig.lblExposicao }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblExposicao>Exposição Total</span></strong><div><span class=list-group-item-text>{{body.noticias.atual.dados.expoMesa.Exposicao}}</span></div></li><li ng-if=body.noticias.atual.dados.expoCanal.length><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblExposicaoCanal>{{ body.config.opcoes.textoPersonalizadoConfig.lblExposicaoCanal }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblExposicaoCanal>Exposição por canal</span></strong><div ng-repeat="exposicao in body.noticias.atual.dados.expoCanal"><em>{{exposicao.Nome}} -</em><span>{{exposicao.Exposicao}}</span></div></li><li ng-if=body.noticias.atual.dados.tiragem><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblTiragem>{{ body.config.opcoes.textoPersonalizadoConfig.lblTiragem }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblTiragem>Tiragem</span></strong><div><span>{{body.noticias.atual.dados.tiragem}}</span></div></li><li ng-if="body.noticias.atual.dados.valoracao || body.noticias.atual.dados.valoracaoDolar"><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblValoracao>{{ body.config.opcoes.textoPersonalizadoConfig.lblValoracao }}</span><span ng-if=!body.config.opcoes.textoPersonalizadoConfig.lblValoracao><span ng-if="body.config.idProdutoMvc === 32">Equivalência Publicitária</span><span ng-if="!(body.config.idProdutoMvc === 32)">Valoração</span></span></strong><div ng-if="body.noticias.atual.dados.valoracao && !body.noticias.atual.dados.valoracaoDolar" ng-repeat="valoracao in body.noticias.atual.dados.valoracao"><div ng-if="valoracao.Valoracao !== 0"><em>{{valoracao.Nome}} =&nbsp;</em><span>{{(valoracao.Valoracao || 0) | currency:\'R$\' }}</span></div></div><div ng-if=body.noticias.atual.dados.valoracaoDolar ng-repeat="valoracao in body.noticias.atual.dados.valoracaoDolar"><div ng-if="valoracao.Valoracao !== 0"><em>{{valoracao.Nome}} =&nbsp;</em><span>{{(valoracao.Valoracao || 0) | currency:\'U$\' }}</span></div></div></li><li ng-if=body.noticias.atual.dados.valoracaoNoticiaDolar><strong><span ng-if=body.config.opcoes.textoPersonalizadoConfig.lblValoracaoNoticia>{{ body.config.opcoes.textoPersonalizadoConfig.lblValoracaoNoticia }}</span><span ng-if="!body.config.opcoes.textoPersonalizadoConfig.lblValoracaoNoticia && body.config.opcoes.textoPersonalizadoConfig">Valoração - Notícia</span></strong><div><div><span>{{(body.noticias.atual.dados.valoracaoNoticiaDolar || 0) | currency:\'U$\' }}</span></div></div></li></ul></div></div><div ng-if=!body.noticias.atual.fonteRestrita><div class="noticia-midia clearfix" ng-class="body.noticias.atual.NomeMidia.toLowerCase() | semEspaco"><midias></midias></div></div><div ng-if=body.noticias.atual.fonteRestrita><div class="bkg-noticia noticia-texto"><div ng-if=body.noticias.atual.Sinopse class=text-left><blockquote class=noticia-sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=body.noticias.atual.Sinopse></em></span></blockquote></div><div class="noticia-descricao noticia-fonte-restrita">{{body.noticias.atual.Conteudo | limitTo:body.noticias.atual.fonteRestrita.QuantidadeCaracteresLiberados}}...</div><div class=text-center style="padding-bottom: 35px; padding-top: 15px;"><a class="btn link-fonte-restrita" ng-href={{body.noticias.atual.fonteRestrita.urlRestritaNoticiaAtual}} target=_blank>Acessar site</a></div><div class=well><span class=noticia-fonte-restrita>{{body.noticias.atual.fonteRestrita.TextoRestricao}}</span></div></div></div></div></div></div></div></div><vis-body-nextprev></vis-body-nextprev><vis-body-photoswipe></vis-body-photoswipe>',controller:"BodyPadraoCtrl as body"}}angular.module("app").directive("visBodyPadrao",i)}(),function(){function i(){return{restrict:"E",template:'<div id=footer><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=text-center><a href="http://grupoboxnet.com.br/" target=_blank><img src=contents/img/boxnet_logo.png></a></div></div></div></div>'}}angular.module("app").directive("visFooter",i)}(),function(){function i(i){return{restrict:"E",template:'<div><nav class="navbar navbar-default navbar-fixed-top" ng-if=!navbar.config.opcoes.prnewswire><div class="navbar-header page-scroll"><button type=button class="navbar-toggle botao" data-toggle=collapse data-target=#menu-fixo><span class=sr-only>Toggle navigation</span> <i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse" id=menu-fixo><ul class="nav navbar-nav pull-right"><li tooltip="Notícias Similares" tooltip-placement=left tooltip-popup-delay=1000 ng-if=navbar.noticias.atual.similares.length><a ng-click=navbar.modalSimilares()><i class="fa fa-paperclip"></i> <span class="hidden-lg hidden-md hidden-sm">Notícias Similares</span></a></li><li tooltip="Link Original" tooltip-placement=left tooltip-popup-delay=1000 ng-if=navbar.noticias.atual.Url><a ng-href={{navbar.noticias.atual.Url}} target=_blank><i class="fa fa-link"></i> <span class="hidden-lg hidden-md hidden-sm">Link Original</span></a></li><li tooltip=Download tooltip-placement=left tooltip-popup-delay=1000><a ng-click=navbar.modalDownload()><i class="fa fa-download"></i> <span class="hidden-lg hidden-md hidden-sm">Download</span></a></li><li tooltip=Encaminhar tooltip-placement=left tooltip-popup-delay=1000><a ng-click=navbar.modalEncaminhar() ng-if="! navbar.config.opcoes.Destinatarios"><i class="fa fa-envelope"></i> <span class="hidden-lg hidden-md hidden-sm">Encaminhar</span></a> <a ng-href="{{navbar.config.urlMvc()}}/Email?token={{navbar.config.token}}" target=_blank ng-if=navbar.config.opcoes.Destinatarios><i class="fa fa-envelope"></i> <span class="hidden-lg hidden-md hidden-sm">Encaminhar</span></a></li></ul></div></nav></div>',controller:"NavbarCtrl as navbar",link:function(a,o,t){a.$watch(function(){return i.tipo},function(a,t){"simples"!=i.tipo&&"integra"!=i.tipo&&"integracao"!=i.tipo||o.html("")})}}}angular.module("app").directive("visNavbar",i),i.$inject=["config"]}(),function(){"use strict";function i(i,a){function o(i,a,o){function t(){switch(o.croptype){case"rect":n();break;case"polygon":e();break;case"circle":r()}}function n(){var i=o.crop.split(" ")[0].match(/\d/g).join(""),t=o.crop.split(" ")[1].match(/\d/g).join(""),n=o.crop.split(" ")[2].match(/\d/g).join(""),e=o.crop.split(" ")[3].match(/\d/g).join("");d.append(s("rect",{x:i,y:t,width:n,height:e,fill:"url(#pattern"+o.id+")"})),a.find("#img-svg"+o.id).css("opacity",".2"),a.find("#container-svg"+o.id).css("background","#E3E5E7")}function e(){d.append(s("polygon",{points:o.crop.replace("points='","").replace("'",""),id:"poly"+o.id,fill:"url(#pattern"+o.id+")"})),a.find("#img-svg"+o.id).css("opacity",".2"),a.find("#container-svg"+o.id).css("background","#E3E5E7")}function r(){a.find("#img-svg"+o.id).css("opacity",".2"),a.find("#container-svg"+o.id).css("background","#E3E5E7")}function s(i,a){var o=document.createElementNS("http://www.w3.org/2000/svg",i);for(var t in a)o.setAttribute(t,a[t]);return o}function c(){o.grifo||a.find(".recorte-grifo").remove()}o.size=o.size||"200",o.width=o.width||"100%",o.height=o.height||"100%",o.grifo="true"===o.grifo,a.find("#img-svg").attr("id","img-svg"+o.id),a.find("#img-pattern").attr("id","img-pattern"+o.id),a.find("#pattern").attr("id","pattern"+o.id),a.find(".container-svg").attr("id","container-svg"+o.id);var d=a.find("svg"),l=a.find("image"),u=a.find("#pattern"+o.id),g=a.find("#container-svg"+o.id);d[0].setAttribute("viewBox","0 0 "+o.width+" "+o.height),l.attr("xlink:href",o.src).attr("width",o.width).attr("height",o.height),u.attr("width",o.width).attr("height",o.height),g.css({width:o.size,height:o.height*o.size/o.width}),t(),c()}var t={link:o,restrict:"E",template:'<div class="container-svg relative"><svg version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink preserveAspectRatio="xMinYMin meet" height=100% width=100%><image id=img-svg xlink:href x=0 y=0 width height></image><pattern id=pattern patternUnits=userSpaceOnUse><image id=img-pattern xlink:href x=0 y=0 width height></image></pattern></svg><div class="recorte-grifo badge">Grifo</div></div>'};return t}angular.module("app").directive("imagem",i),i.$inject=["$window","$sce"]}(),function(){function i(){return{restrict:"A",template:"<div class=loading><img src=contents/img/loading.svg></div>",link:function(i,a,o){i.$watch(o.loading,function(i){i?a.removeClass("ng-hide").addClass("ng-show"):a.removeClass("ng-show").addClass("ng-hide")})}}}angular.module("app").directive("loading",i)}(),function(){function i(i,a){return{restrict:"EA",link:function(o,t,n){o.$watch(function(){return a.atual},function(a,n){if(a!=n){switch(a.IdMidia){case 1:t.html("<midia-web></midia-web>");break;case 2:case 24:t.html("<midia-impresso></midia-impresso>");break;case 3:t.html("<midia-radio></midia-radio>");break;case 4:t.html("<midia-tv></midia-tv>");break;case 5:t.html("<midia-redesocial></midia-redesocial>");break;default:t.html("<midia-outros></midia-outros>")}i(t.contents())(o)}})}}}function a(){return{restrict:"E",template:'<div class="btn-group noticia-midia-btn"><label class="btn btn-default active" ng-model=body.noticias.botoesWeb btn-radio="\'Texto\'">Leitura</label> <label class="btn btn-default" ng-click=body.carregaScreenshot() ng-model=body.noticias.botoesWeb btn-radio="\'Screenshot\'">Screenshot</label> <label class="btn btn-default" ng-if=body.noticias.atual.Anexos.length ng-model=body.noticias.botoesWeb btn-radio="\'Anexos\'">Anexos</label></div><div class=bkg-noticia><div class=noticia-texto ng-if="body.noticias.botoesWeb === \'Texto\'"><blockquote class=noticia-sinopse ng-if=body.noticias.atual.Sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=body.noticias.atual.Sinopse></em></span></blockquote><div class=noticia-descricao ng-bind-html="body.noticias.atual.Conteudo | highlight:body.visualizacao.grifos"></div><div ng-if=body.noticias.atual.conteudoExtra.length class=text-left><div><div style="padding-bottom: 20px"><strong>Mais informações:</strong></div><div ng-repeat="extras in body.noticias.atual.conteudoExtra" style="padding: 5px 0; font-size: 14px;"><div ng-repeat="(key, value) in extras"><strong>{{key}}:</strong> <span>{{value || \'não informado\'}}</span></div><hr ng-if=!$last></div></div></div></div><div ng-if="body.noticias.botoesWeb === \'Screenshot\'" class="text-center relative noticia-conteudo-imagem"><div loading=body.visualizacao.loadingWeb style="height: 100px; opacity: .6; margin-top: 100px;"></div><a ng-href={{body.noticias.atual.screenshot}} download style="top: 0; right: 0; bottom: inherit;" class="btn btn-primary btn-sm btn-download-imagem" tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000><i class="fa fa-download"></i></a> <a ng-href={{body.noticias.atual.screenshot}} target=_blank><img ng-src={{body.noticias.atual.screenshot}} border=0 style="max-width: 100%;"></a></div><div class=cleafix ng-if="body.noticias.botoesWeb === \'Anexos\'"><div class=text-center style="padding: 20px;" ng-repeat="anexo in body.noticias.atual.Anexos"><a ng-href="{{body.config.urlApi()}}{{anexo.Url | trustUrl}}" target=_blank><img ng-src="{{body.config.urlApi()}}{{anexo.Url | trustUrl}}" style="max-width: 100%"></a></div></div></div>'}}function o(){return{restrict:"E",template:'<div class="btn-group noticia-midia-btn"><div><label class="btn btn-default active" ng-hide=body.config.opcoes.InibirAbaRecorte ng-model=body.noticias.botoesImpresso btn-radio="\'Recorte\'">Matéria</label> <label class="btn btn-default" ng-hide=body.config.opcoes.InibirAbaPagina ng-if=body.noticias.atual.impressos.dados.LiberarPaginaCapa ng-model=body.noticias.botoesImpresso btn-radio="\'Pagina\'">Página</label> <label class="btn btn-default" ng-hide=body.config.opcoes.InibirAbaCapa ng-if=body.noticias.atual.impressos.dados.LiberarPaginaCapa ng-model=body.noticias.botoesImpresso btn-radio="\'Capa\'">Capa</label> <label class="btn btn-default" ng-hide=body.config.opcoes.InibirAbaTexto ng-model=body.noticias.botoesImpresso btn-radio="\'Texto\'">Texto</label></div></div><div class="bkg-noticia noticia-impressos"><div class="text-center noticia-impressos-recortes" ng-if="body.noticias.botoesImpresso == \'Recorte\'"><div class=inline-block ng-if="body.config.opcoes.TipoVisualizacao.Nome === \'Thumbnail\'" ng-repeat="pagina in body.noticias.atual.impressos.paginas track by $index"><div class="noticia-conteudo-imagem relative" ng-repeat="recorte in pagina.Recortes track by $index"><a ng-href="{{body.config.urlApi()}}/api/Impressos/GetImagemDoRecorteComGrifo?idRecorte={{recorte.Id}}&idProduto={{body.config.idProduto}}" class="btn btn-primary btn-sm btn-download-imagem" tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000><i class="fa fa-download"></i></a><imagem id={{recorte.Id}} photoswipe="{id: recorte.Id, imgs: body.noticias.atual.impressos.recortes}" size=200 src="{{pagina | getImagem}}" width={{pagina.Largura}} height={{pagina.Altura}} crop={{recorte.Coordenadas}} croptype={{recorte.TipoSVG}} grifo={{recorte.TemGrifo}}></imagem></div></div><div class=noticia-carrossel ng-if="body.config.opcoes.TipoVisualizacao.Nome === \'Carrossel\'"><carousel disable-animation=true><slide ng-repeat="recorte in body.noticias.atual.impressos.recortes track by $index"><div class=noticia-conteudo-imagem ng-class="{\'carrossel-inner-container\': body.noticias.atual.impressos.recortes.length > 1}"><a ng-href="{{body.config.urlApi()}}/api/Impressos/GetImagemDoRecorteComGrifo?idRecorte={{recorte.Id}}&idProduto={{body.config.idProduto}}" class="btn btn-primary btn-sm btn-download-imagem" tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000 style="top: 0; right: 0; bottom: inherit;"><i class="fa fa-download"></i></a><div ng-if=recorte.TemGrifo><div style="text-align: center"><div ng-style="{\'background\': \'url({{recorte | getImagem}}) no-repeat center top\', \'background-size\': \'contain\'}"><img photoswipe="{id: recorte.Id, imgs: body.noticias.atual.impressos.recortes}" ng-src="{{recorte.UrlGrifo | trustUrl}}" style="max-width: 100%;"></div></div></div><img ng-if=!recorte.TemGrifo photoswipe="{id: recorte.Id, imgs: body.noticias.atual.impressos.recortes}" ng-src="{{recorte | getImagem}}" style="max-width: 100%"></div></slide></carousel></div></div><div class="text-center noticia-impressos-paginas" ng-if="body.noticias.botoesImpresso == \'Pagina\'"><div class="inline-block noticia-conteudo-imagem relative" ng-if="body.config.opcoes.TipoVisualizacao.Nome === \'Thumbnail\'" ng-repeat="pagina in body.noticias.atual.impressos.paginas track by $index"><a ng-href="{{pagina | getImagem}}" download class="btn btn-primary btn-sm btn-download-imagem" tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000><i class="fa fa-download"></i></a><imagem src="{{pagina | getImagem}}" photoswipe="{id: pagina.Id, imgs: body.noticias.atual.impressos.paginas}" id={{pagina.IdPagina}} size=200 width={{pagina.Largura}} height={{pagina.Altura}}></imagem></div><div class=noticia-carrossel ng-if="body.config.opcoes.TipoVisualizacao.Nome === \'Carrossel\'"><carousel disable-animation=true><slide ng-repeat="pagina in body.noticias.atual.impressos.paginas track by $index"><div class=noticia-conteudo-imagem ng-class="{\'carrossel-inner-container\': body.noticias.atual.impressos.recortes.length > 1}"><a ng-href="{{pagina | getImagem}}" download tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000 style="top: 0; right: 0; bottom: inherit;" class="btn btn-primary btn-sm btn-download-imagem"><i class="fa fa-download"></i></a> <img photoswipe="{id: pagina.Id, imgs: body.noticias.atual.impressos.paginas}" ng-src="{{pagina | getImagem}}" style="margin:auto; max-width: 100%"></div></slide></carousel></div></div><div class="text-center noticia-impressos-capa" ng-if="body.noticias.botoesImpresso == \'Capa\'"><div class="inline-block noticia-conteudo-imagem relative" ng-if="body.config.opcoes.TipoVisualizacao.Nome === \'Thumbnail\'" ng-repeat="capa in body.noticias.atual.impressos.capa track by $index"><a ng-href="{{capa | getImagem}}" download class="btn btn-primary btn-sm btn-download-imagem" tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000><i class="fa fa-download"></i></a><imagem src="{{capa | getImagem}}" photoswipe="{id: capa.Id, imgs: body.noticias.atual.impressos.capa}" id={{capa.Id}} size=200 width={{capa.Largura}} height={{capa.Altura}}></imagem></div><div ng-if="body.config.opcoes.TipoVisualizacao.Nome === \'Carrossel\'"><div class="relative noticia-conteudo-imagem" ng-repeat="capa in body.noticias.atual.impressos.capa track by $index"><a ng-href="{{capa | getImagem}}" download tooltip="Salvar imagem" tooltip-placement=top tooltip-popup-delay=1000 style="top: 0; right: 0; bottom: inherit;" class="btn btn-primary btn-sm btn-download-imagem"><i class="fa fa-download"></i></a> <img photoswipe="{id: capa.Id, imgs: body.noticias.atual.impressos.capa}" ng-src="{{capa | getImagem}}" style="margin:auto; max-width: 100%"></div></div></div><div class=noticia-texto ng-if="body.noticias.botoesImpresso == \'Texto\'"><blockquote class=noticia-sinopse ng-if=body.noticias.atual.Sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=body.noticias.atual.Sinopse></em></span></blockquote><div class=noticia-descricao ng-bind-html="body.noticias.atual.Conteudo | highlight:body.visualizacao.grifos"></div><div ng-if=body.noticias.atual.conteudoExtra.length class=text-left><div><div style="padding-bottom: 20px"><strong>Mais informações:</strong></div><div ng-repeat="extras in body.noticias.atual.conteudoExtra" style="padding: 5px 0; font-size: 14px;"><div ng-repeat="(key, value) in extras"><strong>{{key}}:</strong> <span>{{value || \'não informado\'}}</span></div><hr ng-if=!$last></div></div></div></div><div loading=body.impresso.loading class=loading-impresso></div></div><canvas id=canvas></canvas>'}}function t(){return{restrict:"E",template:'<div class=bkg-noticia><div class=noticia-audiovideo><audio autoplay controls class=media-player><source ng-src="{{body.noticias.atual.Anexos[0].Url | trustUrlApi}}" type=audio/mp3>O seu navegador não suporta o elemento <code>audio</code> do HTML5.</audio></div><div ng-if=body.noticias.atual.Sinopse class="noticia-texto text-left"><blockquote class=noticia-sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=body.noticias.atual.Sinopse></em></span></blockquote></div><div ng-hide=body.config.opcoes.InibirTranscricao class="noticia-texto text-left"><strong>Transcrição</strong><div class=noticia-descricao><div ng-bind-html="body.noticias.atual.Conteudo | highlight:body.visualizacao.grifos"></div></div></div><div ng-if=body.noticias.atual.conteudoExtra.length class="noticia-texto text-left"><div><div style="padding-bottom: 20px"><strong>Mais informações:</strong></div><div ng-repeat="extras in body.noticias.atual.conteudoExtra" style="padding: 5px 0; font-size: 14px;"><div ng-repeat="(key, value) in extras"><strong>{{key}}:</strong> <span>{{value || \'não informado\'}}</span></div><hr ng-if=!$last></div></div></div></div>'}}function n(){return{restrict:"E",template:'<div class=bkg-noticia><div class=noticia-audiovideo><video autoplay controls width=100% height=240 class=media-player><source ng-src="{{body.noticias.atual.Anexos[0].Url | trustUrlApi}}" type=video/mp4>O seu navegador não suporta o elemento <code>video</code> do HTML5.</video></div><div ng-if=body.noticias.atual.Sinopse class="noticia-texto text-left"><blockquote class=noticia-sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=body.noticias.atual.Sinopse></em></span></blockquote></div><div ng-hide=body.config.opcoes.InibirTranscricao class="noticia-texto text-left"><strong>Transcrição</strong><div class=noticia-descricao><div ng-bind-html="body.noticias.atual.Conteudo | highlight:body.visualizacao.grifos"></div></div></div><div ng-if=body.noticias.atual.conteudoExtra.length class="noticia-texto text-left"><div><div style="padding-bottom: 20px"><strong>Mais informações:</strong></div><div ng-repeat="extras in body.noticias.atual.conteudoExtra" style="padding: 5px 0; font-size: 14px;"><div ng-repeat="(key, value) in extras"><strong>{{key}}:</strong> <span>{{value || \'não informado\'}}</span></div><hr ng-if=!$last></div></div></div></div>'}}function e(i,a){return{restrict:"E",template:'<div class=bkg-noticia><div class=noticia-texto style="margin-top: 30px"><div ng-if="redeSocialAtiva === \'facebook\'"><div style="max-width: 500px; margin: auto;"><script src="//connect.facebook.net/pt_BR/sdk.js#xfbml=1&amp;version=v2.2" async></script><div class=fb-post data-href={{postFacebook}} data-width=auto data-show-text=true><blockquote cite={{postFacebook}} class=fb-xfbml-parse-ignore></blockquote></div></div></div><div ng-if="redeSocialAtiva === \'twitter\'"><div style="max-width: 500px; margin: auto;"><blockquote class=twitter-tweet data-lang=pt><p lang=pt dir=ltr ng-bind-html=body.noticias.atual.Conteudo></p><a ng-href={{body.noticias.atual.Url}}>{{body.noticias.atual.DataHora}}</a></blockquote><script async src=//platform.twitter.com/widgets.js charset=utf-8></script></div></div><div ng-if="redeSocialAtiva === \'instagram\'"><blockquote class=instagram-media style="width: 100%" data-instgrm-captioned data-instgrm-version=7><div style=padding:8px;><p class=instagram-comment><a href={{body.noticias.atual.Url}} class=instagram-comment-link target=_blank></a></p></div></blockquote><script async defer src=//platform.instagram.com/en_US/embeds.js></script></div><div ng-if="redeSocialAtiva === \'youtube\'"><div style="max-width: 560px; margin: auto"><iframe width=100% height=315 src="{{postYouTube | trustUrl}}" frameborder=0 allowfullscreen></iframe></div></div><div ng-if="redeSocialAtiva === \'outros\'"><div ng-bind-html={{body.noticias.atual.Conteudo}}></div></div></div></div>',link:function(o){var t=["facebook","twitter","instagram","youtube"],n=i("filter")(a.atual.Propriedades,{NomePropriedade:"Canal"})[0].Valor.toLowerCase();if(o.redeSocialAtiva=i("filter")(t,n)[0]||"outros","facebook"==o.redeSocialAtiva){var e=i("filter")(a.atual.Propriedades,{NomePropriedade:"Link do Usuário"})[0].Valor,r=i("filter")(a.atual.Propriedades,{NomePropriedade:"Id do Post"})[0].Valor;o.postFacebook=e+"/posts/"+r}else if("youtube"==o.redeSocialAtiva){var s="https://www.youtube.com/embed/",c=i("filter")(a.atual.Propriedades,{NomePropriedade:"Id do Post"})[0].Valor;o.postYouTube=s+c}}}}function r(){return{restrict:"E",template:'<div class="btn-group noticia-midia-btn"><label class="btn btn-default active" ng-model=body.noticias.botoesWeb btn-radio="\'Texto\'">Leitura</label> <label class="btn btn-default" ng-if=body.noticias.atual.Anexos.length ng-model=body.noticias.botoesWeb btn-radio="\'Anexos\'">Anexos</label></div><div class=bkg-noticia><div class=noticia-texto ng-if="body.noticias.botoesWeb === \'Texto\'"><blockquote class=noticia-sinopse ng-if=body.noticias.atual.Sinopse><strong><em>Sinopse:</em></strong><br><span><em ng-bind-html=body.noticias.atual.Sinopse></em></span></blockquote><div class=noticia-descricao ng-bind-html="body.noticias.atual.Conteudo | highlight:body.visualizacao.grifos"></div></div><div class=cleafix ng-if="body.noticias.botoesWeb === \'Anexos\'"><div style="padding: 20px;" class=text-center ng-repeat="anexo in body.noticias.atual.Anexos"><div ng-if="anexo.Extensao.toLowerCase() !== \'pdf\'"><a ng-href={{body.config.urlApi()}}{{anexo.Url}} target=_blank><img ng-src={{body.config.urlApi()}}{{anexo.Url}} style="max-width: 100%"></a></div><div ng-if="anexo.Extensao.toLowerCase() === \'pdf\'"><a ng-href={{body.config.urlApi()}}{{anexo.Url}} download class="btn btn-default">Download PDF</a></div></div></div></div>'}}angular.module("app").directive("midias",i).directive("midiaWeb",a).directive("midiaImpresso",o).directive("midiaRadio",t).directive("midiaTv",n).directive("midiaRedesocial",e).directive("midiaOutros",r),i.$inject=["$compile","noticias"],e.$inject=["$filter","noticias"]}(),function(){"use strict";function i(i){function a(a,o,t){a.$watch(function(){return a.$$childHead.slides.length},function(){a.$$childHead.slides.forEach(function(a,o){a.grifo=i.atual.impressos.recortes[o].TemGrifo})})}var o={link:a};return o}angular.module("app").directive("carousel",i),i.$inject=["noticias"]}(),function(){function i(){return{restrict:"E",template:'<ul class=bts-prev-next><li class="btn-prev-materia pull-left" ng-if=body.noticias.btPrev ng-click=body.noticiaNextPrev((body.noticias.atual.indexBook)-1)><i class="fa fa-caret-left" aria-hidden=true></i><div class="materia-body materia-prevnext"><span class="nowrap prevnext-midia"><strong>{{body.noticias.todas[body.config.idsBook.indexOf(body.noticias.atual.Id)-1].NomeMidia | uppercase}}</strong></span> <span class="nowrap prevnext-titulo">{{body.noticias.todas[body.config.idsBook.indexOf(body.noticias.atual.Id)-1].Titulo}}</span> <span class="nowrap prevnext-fonte">{{body.noticias.todas[body.config.idsBook.indexOf(body.noticias.atual.Id)-1].NomeFonte | uppercase}}</span></div></li><li class=btn-next-materia ng-if=body.noticias.btNext ng-click=body.noticiaNextPrev((body.noticias.atual.indexBook)+1)><i class="fa fa-caret-right" aria-hidden=true></i><div class="materia-body materia-prevnext"><span class="nowrap prevnext-midia"><strong>{{body.noticias.todas[body.config.idsBook.indexOf(body.noticias.atual.Id)+1].NomeMidia | uppercase}}</strong></span> <span class="nowrap prevnext-titulo">{{body.noticias.todas[body.config.idsBook.indexOf(body.noticias.atual.Id)+1].Titulo}}</span> <span class="nowrap prevnext-fonte">{{body.noticias.todas[body.config.idsBook.indexOf(body.noticias.atual.Id)+1].NomeFonte | uppercase}}</span></div></li></ul>'
}}angular.module("app").directive("visBodyNextprev",i)}(),function(){function i(){return{restrict:"E",template:'<div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div><div class="pswp__scroll-message visible-md visible-lg"><img src=contents/img/scroll.gif width=20>&nbsp;&nbsp; para redimensionar</div></div></div>'}}function a(i){return{restrict:"EA",scope:{photoswipe:"="},link:function(a,o,t){function n(i,a){var o=document.querySelectorAll(".pswp")[0],t=0,n={index:a,history:!1,focus:!1,showAnimationDuration:0,hideAnimationDuration:0},e=new PhotoSwipe(o,PhotoSwipeUI_Default,i,n);e.init(),e.listen("beforeChange",function(o){r(),t+=o,s(i,a,t)}),r(),s(i,a,t)}function e(a,o){return o?i("trustUrlApi")(a.Anexos):i("getImagem")(a)}function r(){$(".pswp__scroll-message").css("opacity",1),setTimeout(function(){$(".pswp__scroll-message").css("opacity",0)},3e3)}function s(i,a,o){var t=a+o;if((-1!=t||t<=i.length-1)&&i[t].grifo){var n=$(".pswp__zoom-wrap"),e=n.find(".grifo-recorte-ps");e.length&&e.remove(),n.css("position","relative"),n.prepend('<img class="grifo-recorte-ps" src="'+i[t].grifo+'" style="position: absolute; top: 0; left: 0; z-index: 2;">')}}o.bind("click",function(o){var r=t.anexoWeb,s=a.photoswipe.imgs.indexOf(i("filter")(a.photoswipe.imgs,{Id:a.photoswipe.id},!0)[0]),c=[];angular.forEach(a.photoswipe.imgs,function(i,a){c.push({src:e(i,r),w:i.Largura,h:i.Altura,grifo:i.UrlGrifo,idRecorte:i.Id})}),n(c,s)})}}}angular.module("app").directive("visBodyPhotoswipe",i).directive("photoswipe",a),a.$inject=["$filter"]}(),function(){function i(){return function(i,a,o){return i?a:o}}function a(i){return function(a,o){if(a){if(o&&o.length){o.sort(function(i,a){return a.length-i.length});var t="",n=new RegExp("\\s("+o.join("|").replace(/[-[\]{}()*+?.,\\/^$#\s]/g,"\\$&")+")\\b","gmi"),e=new RegExp("\\b("+o.join("|").replace(/[-[\]{}()*+?.,\\/^$#\s]/g,"\\$&")+")\\b","gmi"),r=new RegExp("("+o.join("|").replace(/[-[\]{}()*+?.,\\/^$#\s]/g,"\\$&")+")","gmi");return t=a.replace(n,"<mark>$&</mark>"),t=t.replace(e,"<mark>$&</mark>"),t=t.replace(r,"<mark>$&</mark>"),i.trustAsHtml(t)}return i.trustAsHtml(a)}return"Não há texto a ser exibido."}}function o(){return function(i){var a=new Date(i/1e4),o=a.getUTCHours(),t=a.getUTCMinutes(),n=a.getSeconds();return o=10>o?"0"+o:o,t=10>t?"0"+t:t,n=10>n?"0"+n:n,o+":"+t+":"+n}}function t(){return function(i){return i?i.split(" ").join("_"):void 0}}function n(i){return function(a){return a?a.Url&&""!=a.Url?i.trustAsResourceUrl(a.Url):i.trustAsResourceUrl("data:image/jpeg;base64,"+a.ImagemByte):void 0}}function e(i,a){return function(o){return i.trustAsResourceUrl(a.urlApi()+o)}}function r(i){return function(a){return i.trustAsResourceUrl(a)}}angular.module("app").filter("iif",i).filter("highlight",a).filter("toHours",o).filter("semEspaco",t).filter("getImagem",n).filter("trustUrlApi",e).filter("trustUrl",r),a.$inject=["$sce"],n.$inject=["$sce"],e.$inject=["$sce","config"],r.$inject=["$sce"]}();